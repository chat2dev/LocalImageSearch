# 变更日志

## [1.0.0] - 2024-01-29

### 新增功能

- 实现了基于本地大语言模型的图片自动标注功能
- 支持多种模型（如 qwen-vl:4b, llava-v1.6:3b 等）
- 图片预处理功能：自动缩放、格式转换
- 标签生成：支持自定义标签数量
- 图片描述生成：可选功能
- SQLite 数据库存储标注结果
- 命令行接口和配置文件支持
- 进度显示和错误处理

### 系统架构

- 模块化设计，分为配置、工具、图片处理、模型接口、标注核心和数据库操作等模块
- 抽象模型接口，方便扩展新模型
- 统一的 API 设计，降低维护难度

### 技术特性

- 使用 Ollama 框架进行本地模型推理
- 支持多种图片格式（JPEG、PNG、BMP、GIF、WEBP）
- 图片唯一ID生成（基于路径的 SHA-256 哈希）
- 增量标注：自动跳过已标注的图片
- 异常处理和容错机制

### 数据存储

- SQLite 数据库存储
- 完整的标注结果表结构
- 支持按图片ID、路径、模型等查询方式
- 索引优化提高查询效率

### 使用方式

- 命令行参数支持
- YAML 配置文件支持
- 批量处理目录中的所有图片
- 单个图片处理

### 文档

- 详细的安装说明
- 使用指南
- 设计文档
- 变更日志

### 依赖库

- Pillow：图片处理
- requests：HTTP 请求
- PyYAML：配置文件解析
- tqdm：进度条显示
- sqlite3：数据库操作（Python 内置）

### 系统要求

- Python 3.8+
- Ollama 框架（用于本地模型部署）
- 至少 8 GB 内存（推荐 16 GB）
- 足够的存储空间（用于模型和数据库）