# ====================================
# LocalImageSearch Configuration
# ====================================
# Copy this file to .env and modify as needed
# Priority: CLI arguments > .env file > default values

# ====================================
# Environment Variable Expansion
# ====================================
# You can reference system environment variables using ${VAR} syntax:
#   DB_PATH=${HOME}/.LocalImageSearch/data/image_tags.db
#   FAISS_INDEX_DIR=${HOME}/.LocalImageSearch/faiss
#   CUSTOM_PATH=${HOME}/Documents/images
#
# Note: Use ${VAR} syntax (with braces), not $VAR
# Supported: ${HOME}, ${USER}, ${PWD}, etc.

# ====================================
# Model Configuration
# ====================================

# Model name (default: qwen3-vl:4b)
# For Ollama: qwen3-vl:4b, llava:13b, etc.
# For OpenAI-compatible: gpt-4-vision-preview, etc.
# For Doubao: ep-xxxxxxxxxxxxx-xxxxx (endpoint ID)
MODEL_NAME=qwen3-vl:4b

# Model type: ollama, openai (default: ollama)
MODEL_TYPE=ollama

# OpenAI-compatible API base URL (only for model_type=openai)
# Examples:
#   Standard OpenAI format: http://localhost:8000/v1
#   Doubao (already includes version): https://ark.cn-beijing.volces.com/api/v3
# Note: If base URL includes version (/v1, /v2, /v3), system will auto-detect
API_BASE=

# API key (only for model_type=openai)
API_KEY=

# ====================================
# Doubao (豆包) Configuration Example
# ====================================
# Uncomment and configure to use Doubao:
#
# MODEL_TYPE=openai
# MODEL_NAME=${DOUBAO_MODEL_NAME}
# API_BASE=${DOUBAO_BASE_URL}
# API_KEY=${DOUBAO_API_KEY}
#
# Then set in ~/.bashrc or environment:
# export DOUBAO_API_KEY="your-api-key"
# export DOUBAO_BASE_URL="https://ark.cn-beijing.volces.com/api/v3"
# export DOUBAO_MODEL_NAME="ep-xxxxxxxxxxxxx-xxxxx"

# ====================================
# Image Processing Configuration
# ====================================

# Image resize dimensions (default: 512x512)
# Format: WIDTHxHEIGHT
IMAGE_RESIZE=512x512

# Number of tags to generate per image (default: 10)
TAG_COUNT=10

# Generate detailed descriptions (default: false)
# Set to 'true' to enable description generation
GENERATE_DESCRIPTION=false

# Tag and description language (default: zh)
# Options: en, zh, ja, ko, es, fr, de, ru
LANGUAGE=zh

# Force reprocess already tagged images (default: false)
# Set to 'true' to reprocess all images
REPROCESS=false

# Maximum number of parallel workers for image processing (default: 5)
# Set to 1 to disable parallel processing
# Higher values can speed up processing but use more resources
MAX_WORKERS=5

# ====================================
# Database Configuration
# ====================================

# SQLite database file path
# Default: ~/.LocalImageSearch/data/image_tags.db
# You can use relative or absolute paths
# Example with environment variable: ${HOME}/.LocalImageSearch/data/image_tags.db
DB_PATH=

# ====================================
# Prompt Configuration
# ====================================

# Custom prompt config file path
# Default: prompts.yaml in project root
PROMPT_CONFIG=

# ====================================
# FAISS Index Configuration
# ====================================
# (Used for vector search features)

# Database URL for FAISS
# Default: sqlite:///~/.LocalImageSearch/data/image_tags.db
# Example: sqlite:///${HOME}/.LocalImageSearch/data/image_tags.db
DATABASE_URL=

# Directory for storing FAISS index files
# Example: ${HOME}/.LocalImageSearch/faiss/index
FAISS_INDEX_DIR=

# Directory for storing FAISS configuration and metadata
# Example: ${HOME}/.LocalImageSearch/faiss/config
FAISS_CONFIG_DIR=

# FAISS Index Parameters
FAISS_INDEX_TYPE=IVFPQ
FAISS_DIMENSION=384
FAISS_NLIST=100
FAISS_M=8
FAISS_NBITS_PER_IDX=8
FAISS_METRIC=L2

# Search Configuration
SEARCH_NPROBE=5
SEARCH_DEFAULT_K=10
SEARCH_MAX_K=100
SEARCH_SIMILARITY_THRESHOLD=0.5

# Vectorizer Configuration
VECTORIZER_MODEL=all-MiniLM-L6-v2

# Index Status Values
INDEX_STATUS_NOT_INDEXED=not_indexed
INDEX_STATUS_INDEXING=indexing
INDEX_STATUS_INDEXED=indexed
INDEX_STATUS_FAILED=failed
